# =============================================================================
# GitHub Secrets Template
# =============================================================================
# Purpose: Template pro vytvoření GitHub repository secrets
# Usage: Tento soubor slouží jako reference - secrets se NEVYTVÁŘEJÍ v .env
#        Musíte je nastavit v GitHub UI: Settings → Secrets and variables → Actions
# =============================================================================

# -----------------------------------------------------------------------------
# Secret 1: BIGQUERY_CREDENTIALS
# -----------------------------------------------------------------------------
# Type: JSON (celý service account key file)
# Source: ingestion/credentials/dwhhbbi-21142b907feb.json
# Format: Celý JSON object (včetně {}, quotes, atd.)
#
# Jak získat hodnotu:
# Windows PowerShell:
#   Get-Content "path/to/credentials.json" | Set-Clipboard
# Nebo:
#   cat ingestion/credentials/dwhhbbi-21142b907feb.json
#
# Očekávaný formát:
BIGQUERY_CREDENTIALS='{
  "type": "service_account",
  "project_id": "dwhhbbi",
  "private_key_id": "xxxxx",
  "private_key": "-----BEGIN PRIVATE KEY-----\nxxxx\n-----END PRIVATE KEY-----\n",
  "client_email": "service-account@dwhhbbi.iam.gserviceaccount.com",
  "client_id": "xxxxx",
  "auth_uri": "https://accounts.google.com/o/oauth2/auth",
  "token_uri": "https://oauth2.googleapis.com/token",
  "auth_provider_x509_cert_url": "https://www.googleapis.com/oauth2/v1/certs",
  "client_x509_cert_url": "https://www.googleapis.com/robot/v1/metadata/x509/..."
}'

# -----------------------------------------------------------------------------
# Secret 2: GCP_PROJECT_ID
# -----------------------------------------------------------------------------
# Type: String
# Value: Your GCP project ID
# Source: JSON credentials → "project_id" field
#
GCP_PROJECT_ID="dwhhbbi"

# -----------------------------------------------------------------------------
# Secret 3: BIGQUERY_PRIVATE_KEY
# -----------------------------------------------------------------------------
# Type: String (multi-line)
# Source: JSON credentials → "private_key" field
# Note: Včetně -----BEGIN PRIVATE KEY----- a -----END PRIVATE KEY-----
#
# Jak extrahovat:
# Python:
#   import json
#   with open('ingestion/credentials/dwhhbbi-21142b907feb.json') as f:
#       data = json.load(f)
#       print(data['private_key'])
#
# Očekávaný formát:
BIGQUERY_PRIVATE_KEY="-----BEGIN PRIVATE KEY-----
MIIEvQIBADANBgkqhkiG9w0BAQEFAASCBKcwggSjAgEAAoIBAQC...
...
...
-----END PRIVATE KEY-----"

# -----------------------------------------------------------------------------
# Secret 4: BIGQUERY_CLIENT_EMAIL
# -----------------------------------------------------------------------------
# Type: String (email format)
# Source: JSON credentials → "client_email" field
#
# Jak extrahovat:
# Python:
#   import json
#   with open('ingestion/credentials/dwhhbbi-21142b907feb.json') as f:
#       data = json.load(f)
#       print(data['client_email'])
#
# Očekávaný formát:
BIGQUERY_CLIENT_EMAIL="service-account-name@dwhhbbi.iam.gserviceaccount.com"

# =============================================================================
# INSTRUKCE PRO VYTVOŘENÍ SECRETS V GITHUB
# =============================================================================
#
# 1. Navigate to repository on GitHub
# 2. Settings → Secrets and variables → Actions
# 3. Click "New repository secret"
# 4. Pro každý secret výše:
#    a) Name = jméno proměnné (např. "BIGQUERY_CREDENTIALS")
#    b) Value = hodnota z tohoto template (bez quotes pro multi-line)
#    c) Click "Add secret"
#
# 5. Verify all 4 secrets existují v seznamu
#
# =============================================================================
# SECURITY NOTES
# =============================================================================
#
# ⚠️ NIKDY necommitujte tento soubor s reálnými hodnotami do gitu!
# ⚠️ Tento template je pouze pro referenci (.env.example je v .gitignore)
# ⚠️ Skutečné hodnoty musí být pouze v GitHub Secrets (encrypted)
#
# Best Practices:
# - Rotate service account keys každých 90 dní
# - Use principle of least privilege (pouze potřebné permissions)
# - Never share secrets přes email/Slack/Discord
# - Monitor service account activity v GCP Console
# - Enable audit logging pro service account usage
#
# =============================================================================
